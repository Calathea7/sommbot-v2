(this.webpackJsonpprojectsomm=this.webpackJsonpprojectsomm||[]).push([[0],{22:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(9),o=a.n(r),c=(a(27),a(14)),u=a(3),i=a(8),m=a(1),s=a(21);function p(){return l.a.createElement("div",null," Welcome to my site ")}function E(){return l.a.createElement("div",null," Wine recommendation app ")}function v(e){var t=l.a.useState(""),a=Object(u.a)(t,2),n=a[0],r=a[1],o=l.a.useState(""),c=Object(u.a)(o,2),i=c[0],m=c[1],s=l.a.useState(""),p=Object(u.a)(s,2),E=p[0],v=p[1];return l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("input",{id:"email",type:"text",onChange:function(e){return r(e.target.value)},value:n}),l.a.createElement("label",{htmlFor:"name"},"Name:"),l.a.createElement("input",{id:"name",type:"text",onChange:function(e){return v(e.target.value)},value:E}),l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("input",{id:"password",type:"password",onChange:function(e){return m(e.target.value)},value:i}),l.a.createElement("button",{onClick:function(e){e.preventDefault();var t={email:n,password:i,name:E};fetch("/api/create-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){alert(e.message)}))}}," Create Profile "))}function f(e){var t=l.a.useState(""),a=Object(u.a)(t,2),n=a[0],r=a[1],o=l.a.useState(""),c=Object(u.a)(o,2),i=c[0],m=c[1];return l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("input",{id:"email",type:"text",onChange:function(e){return r(e.target.value)},value:n}),l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("input",{id:"password",type:"password",onChange:function(e){return m(e.target.value)},value:i}),l.a.createElement("button",{onClick:function(e){e.preventDefault();var t={email:n,password:i};fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){alert(e.message)}))}}," Log In "),l.a.createElement("button",{onClick:function(e){e.preventDefault(),fetch("/api/logout").then((function(e){return e.json()})).then((function(e){alert(e.message)}))}}," Log Out "))}function h(e){var t=l.a.useState(["loading..."]),a=Object(u.a)(t,2),n=a[0],r=a[1];return l.a.useEffect((function(){fetch("/api/user-profile").then((function(e){return e.json()})).then((function(e){var t,a=[],n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;a.push(l.a.createElement(d,{rec:o}))}}catch(u){n.e(u)}finally{n.f()}r(a)}))}),[]),l.a.createElement("div",null,l.a.createElement("ul",null,n))}function d(e){return l.a.createElement("li",null,e.rec)}function b(e){var t=l.a.useState("1000"),a=Object(u.a)(t,2),n=a[0],r=a[1],o=l.a.useState("2017"),i=Object(u.a)(o,2),m=i[0],p=i[1],E=l.a.useState("0"),v=Object(u.a)(E,2),f=v[0],h=v[1],b=l.a.useState("3300"),g=Object(u.a)(b,2),y=g[0],j=g[1],O=l.a.useState([]),S=Object(u.a)(O,2),w=S[0],C=S[1],k=l.a.useState(["loading..."]),x=Object(u.a)(k,2),P=x[0],T=x[1],J=l.a.useState(!1),N=Object(u.a)(J,2),D=N[0],F=N[1],M=l.a.useState([]),W=Object(u.a)(M,2),_=W[0],A=W[1],L=[{value:"strawberry",label:"strawberry"},{value:"cherry",label:"cherry"},{value:"mushroom",label:"mushroom"},{value:"perfumed",label:"perfumed"},{value:"ripe",label:"ripe"},{value:"oak",label:"oak"},{value:"juicy",label:"juicy"}],B=function(e){C(Array.isArray(e)?e.map((function(e){return e.value})):[])},H=function(e){e.preventDefault();var t={rec_info:_};fetch("/api/wine/save-rec",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){alert(e.message)}))},I=function(e){e.preventDefault();var t={min_year:n,max_year:m,min_price:f,max_price:y,descriptor:w};console.log(t),console.log(JSON.stringify(t)),fetch("/api/recommendation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){var t,a=[],n=Object(c.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push(l.a.createElement(d,{rec:r}))}}catch(o){n.e(o)}finally{n.f()}T(a),F(!0),A(e)}))};function R(){return D?l.a.createElement("div",null,"Here are some wines that match your criteria:",l.a.createElement("ul",null,P),l.a.createElement("button",{onClick:H},"Save this")):l.a.createElement("form",{onSubmit:I,id:"wine-search",method:"POST"},l.a.createElement("div",null,"Please pick your year of production range(optional): Min:",l.a.createElement("select",{value:n,onChange:function(e){return r(e.target.value)},id:"min-year",name:"min-year"},l.a.createElement("option",{value:"1970"},"1970"),l.a.createElement("option",{value:"1980"},"1980"),l.a.createElement("option",{value:"1990"},"1990"),l.a.createElement("option",{value:"2000"},"2000")),"Max:",l.a.createElement("select",{value:m,onChange:function(e){return p(e.target.value)},id:"max-year",name:"max-year"},l.a.createElement("option",{value:"2017"},"2017"),l.a.createElement("option",{value:"2015"},"2015"),l.a.createElement("option",{value:"2013"},"2013"),l.a.createElement("option",{value:"2011"},"2011"))),l.a.createElement("div",null,"Please pick your price range: Min:",l.a.createElement("select",{value:f,onChange:function(e){return h(e.target.value)},id:"min-price",name:"min-price"},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"10"},"10"),l.a.createElement("option",{value:"20"},"20"),l.a.createElement("option",{value:"30"},"30"),l.a.createElement("option",{value:"40"},"40"),l.a.createElement("option",{value:"50"},"50"),l.a.createElement("option",{value:"60"},"60"),l.a.createElement("option",{value:"70"},"70")),"Max:",l.a.createElement("select",{value:y,onChange:function(e){return j(e.target.value)},id:"max-price",name:"max-price"},l.a.createElement("option",{value:"10"},"10"),l.a.createElement("option",{value:"20"},"20"),l.a.createElement("option",{value:"30"},"30"),l.a.createElement("option",{value:"40"},"40"),l.a.createElement("option",{value:"50"},"50"),l.a.createElement("option",{value:"60"},"60"),l.a.createElement("option",{value:"70"},"70"),l.a.createElement("option",{value:"1000"},"1000"))),l.a.createElement("div",null,"Please choose descriptors for your dream wine:",l.a.createElement(s.a,{value:L.filter((function(e){return w.includes(e.value)})),options:L,onChange:B,isMulti:!0,isClearable:!0})),l.a.createElement("input",{type:"submit"}))}return l.a.createElement(R,null)}var g=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/"}," Home ")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/about"}," About ")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/login"}," Login ")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/profile"}," Profile ")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/create-account"}," Create Account ")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/recommendation"}," Wine Recommendation ")))),l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"/about"},l.a.createElement(E,null)),l.a.createElement(m.a,{path:"/login"},l.a.createElement(f,null)),l.a.createElement(m.a,{path:"/create-account"},l.a.createElement(v,null)),l.a.createElement(m.a,{path:"/profile"},l.a.createElement(h,null)),l.a.createElement(m.a,{path:"/recommendation"},l.a.createElement(b,null)),l.a.createElement(m.a,{path:"/"},l.a.createElement(p,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.804f4fb0.chunk.js.map